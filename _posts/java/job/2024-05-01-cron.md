---
layout: post
title:  cron 表达式
subtitle:
author: YangLe
date:   2024-05-01 00:00:00
categories: 定时任务
tag: 定时任务
---



## cron 表达式简介

cron 表达式是一个字符串，分为6或7个字段

> 秒 分 小时 月份中日期 月份 星期中的日期 [年份]

| 组成部分 | 字段     | 允许值               | 允许的特殊字符  |
| -------- | -------- | -------------------- | --------------- |
| 第一部分 | 秒       | 0~59 整数            | , - * /         |
| 第二部分 | 分钟     | 0~59 整数            | , - * /         |
| 第三部分 | 小时     | 0~23 整数            | , - * /         |
| 第四部分 | 日期     | 1~31 整数            | , - * / ? L W C |
| 第五部分 | 月份     | 1~12 整数 或 JAN~DEC | , - * /         |
| 第六部分 | 星期     | 1~7 整数 或 SUN~SAT  | , - * / ? L C # |
| 第七部分 | 年(可选) | 1970~2099            | , - * /         |

特殊字符的含义：

| 符合 | 含义                               | 示例                                                         |
| ---- | ---------------------------------- | ------------------------------------------------------------ |
| ,    | 列出枚举值                         | 5,20  表示在 5和20 分别触发一次                              |
| -    | 范围                               | 5-20  表示从 5到20 每分钟触发一次                            |
| *    | 匹配该区域任意值                   | 在分钟字段使用，表示每分钟都会触发                           |
| /    | 起始时间开始触发，每隔固定时间触发 | 5/20  表示5分钟触发一次，25，45再触发                        |
| ?    | 这个位置值不确定                   | 日期和星期相互冲突，需要把其中一个设置成 ?                   |
| L    | 表示最后                           | 月份中，L 表示一月中最后一天<br />星期中，L 表示每个星期六<br />星期中，6L 表示当月最后一个星期的星期五 |
| W    | 指定日期的最近工作日               | 15W  表示这个月15号最近的工作日<br />1W 如果1号是星期六，那么触发在下周一 |
| LW   | 可在日期中联合使用                 | 表示某个月最后一个工作日                                     |
| #    | 每个月第几个星期几                 | 4#2  表示某月第二个星期四                                    |



表达式例子

| 示例                     | 含义                                                       |
| ------------------------ | ---------------------------------------------------------- |
| 0 0 12 * * ?             | 每天中午 12 点触发                                         |
| 0 15 10 ? * *            | 每天上午 10:15 触发                                        |
| 0 15 10 * * ?            | 每天上午 10:15 触发                                        |
| 0 15 10 * * ? *          | 每天上午 10:15 触发                                        |
| 0 15 10 * * ? 2005       | 2005年的每天上午 10:15 触发                                |
| 0 * 14 * * ?             | 每天下午 2 点到下午 2:59 期间的每 1 分钟触发               |
| 0 0/5 14 * * ?           | 在每天下午 2 点到下午 2:55 期间的每 5 分钟触发             |
| 0 0/5 14,18 * * ?        | 在每天下午2:00-2:55 期间和下午6:00-6:55期间的每 5 分钟触发 |
| 0 0-5 14 * * ?           | 在每天下午 2 点到下午 2:05 期间的每 1 分钟触发             |
| 0 10,44 14 ? 3 4         | 每年三月的星期三的下午 2:10 和 2:44 触发                   |
| 0 15 10 ? * 2-6          | 周一至周五的上午 10:15 触发                                |
| 0 15 10 15 * ?           | 每月15 日上午10:15 触发                                    |
| 0 15 10 L * ?            | 每月最后一日的上午 10:15 触发                              |
| 0 15 10 ? * 6L           | 每月的最后一个星期五上午 10:15 触发                        |
| 0 15 10 ? * 6L 2002-2005 | 2002 年至 2005 年的每月的最后一个星期五上午 10:15 触发     |
| 0 15 10 ? * 6#3          | 每月的第三个星期五上午 10:15 触发                          |



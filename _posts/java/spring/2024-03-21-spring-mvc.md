---
layout: post
title:  Spring MVC
date:   2024-03-21 00:00:00 +0800
categories: 系统设计
tag: 系统设计
---

* content
{:toc}




## MVC 的体系结构和工作原理

MVC 是软件工程中的一种软件架构模式，主要应用于传统的 C/S 体系架构中。MVC 把软件系统分为三个基本部分：模型（Model）、视图（View）和控制器（Controller），其基本部分是协同工作而又相互独立的，在最大程度上实现了组件的重用性和扩展性。

![图片]({{ '/styles/images/java/MVC.jpg' | prepend: site.baseurl }})

MVC体系结构实现了一种动态的程序设计，使对程序的修改、扩展、简化及某一部分的重用成为可能，对复杂度的简化也使程序结构更加直观，在分离自身基本部分的同时赋予了各个基本部分应有的功能。

### 控制器

控制器在不同的层面之间起着组织和管理作用，用于控制应用程序的流程，处理事件并做出响应。控制器做出的响应包括更新数据模型和选择视图解释数据模型。

作用如下：

- 定义应用程序的行为和流程
- 响应用户动作，驱动模型改变
- 选择用于响应的视图



### 视图

视图用于有目的地显示数据。视图一般没有程序层面的逻辑，为了实现刷新功能，需要访问它所监视的数据模型，因此应该事先在它所监视的模型中注册监听事件。

作用如下：

- 解释模型
- 请求模型更新
- 发送用户动作到控制器



### 模型

模型用于封装与应用程序的业务逻辑相关的数据及对数据的处理方法。它具有直接访问数据的权限，例如数据库的访问。模型不依赖视图和控制器，即不关心被如何显示或者操作，但模型中的数据变化一般会通过某种刷新机制公布。为了实现这种刷新机制，用于监视相应模型的视图必须事先在相应模型上注册

作用如下：

- 封装应用程序的状态
- 提供应用程序的功能
- 查询响应状态
- 通知视图改变

## Web MVC 的体系结构和工作原理

Web 应用程序是基于 HTTP 的，而 HTTP 的最大特点是使用短连接并且无状态，所以一个 Web 客户端程序与服务器的每次通信都通过一次完整的 HTTP 请求和响应来完成。在采用了 C/S 体系结构的 MVC 中，在视图注册的监听器可以监听模型数据的改变。但是，在采用了 B/S 体系结构的 MVC 中，模型数据的改变事件无法通知到视图层，因此，视图需要通过主动查询模型来获得最新数据

![图片]({{ '/styles/images/java/webMVC.jpg' | prepend: site.baseurl }})



## Spring Web MVC 工作流

### 组件及其接口

#### DispatcherServlet

https://www.zhihu.com/pub/reader/119959008/chapter/1283985557035700224